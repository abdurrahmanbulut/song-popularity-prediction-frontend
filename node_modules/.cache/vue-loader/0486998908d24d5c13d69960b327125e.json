{"remainingRequest":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\src\\components\\SpotifyCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\src\\components\\SpotifyCard.vue","mtime":1669751314519},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\babel-loader\\lib\\index.js","mtime":1669050788363},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669050779836},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\vue-loader\\lib\\index.js","mtime":1669050788117}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsxCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY2FyZEluZm86IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICByZXF1aXJlZDogdHJ1ZSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY2FyZFR5cGU6IHRoaXMuY2FyZEluZm8udHlwZSwKICAgICAgY2FyZFRpdGxlOiB0aGlzLmNhcmRJbmZvLm5hbWUsCiAgICAgIHBsYXlTb25nOiBmYWxzZSwKICAgICAgbmV3VXJsOiAnJywKICAgICAgYWN0dWFsX3BvcHVsYXJpdHk6IDAsCiAgICAgIHBvc3RzOiBbXSwKICAgICAgYXVkaW9fZmVhdHVyZXM6e30sIAogICAgICBhbGJ1bV9mZWF0dXJlczp7fSwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgaW1hZ2VVUkwoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgKHRoaXMuY2FyZFR5cGUgPT09ICd0cmFjaycKICAgICAgICAgID8gdGhpcy5jYXJkSW5mby5hbGJ1bT8uaW1hZ2VzWzFdPy51cmwKICAgICAgICAgIDogdGhpcy5jYXJkSW5mby5pbWFnZXNbMV0/LnVybCkgfHwKICAgICAgICByZXF1aXJlKCcuLi9hc3NldHMvaW1nL2ltZy1wbGFjZWhvbGRlci5qcGcnKQogICAgICApOwogICAgfSwKICAgIGNhcmRTdWJ0aXRsZSgpIHsKICAgICAgbGV0IHN1YnRpdGxlVGV4dCA9ICcnOwogICAgICBpZiAodGhpcy5jYXJkVHlwZSA9PSAndHJhY2snKSB7CiAgICAgICAgc3VidGl0bGVUZXh0ID0gdGhpcy5jYXJkSW5mby5hcnRpc3RzCiAgICAgICAgICAubWFwKChhcnRpc3QpID0+IGFydGlzdC5uYW1lKQogICAgICAgICAgLmpvaW4oJywgJyk7CiAgICAgIH0KICAgICAgcmV0dXJuIHN1YnRpdGxlVGV4dDsKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsnZGlwbGF5VG9hc3RlciddKSwKICAgIGhhbmRsZUNhcmRDbGljaygpIHsKICAgICAgY29uc29sZS5sb2coJ3ZhcmQgaW5mbycsIHRoaXMuY2FyZEluZm8pOwogICAgICB0aGlzLmFjdHVhbF9wb3B1bGFyaXR5ID0gdGhpcy5jYXJkSW5mby5wb3B1bGFyaXR5OwogICAgICBpZiAodGhpcy5jYXJkSW5mby50eXBlID09ICd0cmFjaycpIHsKICAgICAgICBjb25zdCB0ZW1wID0gdGhpcy5jYXJkSW5mby5leHRlcm5hbF91cmxzLnNwb3RpZnkuc3BsaXQoJ2NvbS8nKTsKICAgICAgICB0aGlzLm5ld1VybCA9IHRlbXBbMF0gKyAnY29tL2VtYmVkLycgKyB0ZW1wWzFdOwogICAgICAgIHRoaXMucGxheVNvbmcgPSB0cnVlOwogICAgICB9CiAgICAgIAogICAgICB0aGlzLmdldFBvc3RzKHRoaXMuY2FyZEluZm8pOwogICAgICB0aGlzLmFsYnVtX2ZlYXR1cmVzID0gdGhpcy5jYXJkSW5mbzsKICAgICAgLy9jb25zb2xlLmxvZygicG9zdHMiLCB0aGlzLnBvc3RzKQogICAgICAvL2NvbnNvbGUubG9nKCJ0b2tlbiIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzcG90aWZ5LWFjY2Vzcy10b2tlbicpKQogICAgICAvL3RoaXMuZGlwbGF5VG9hc3RlcigpOwogICAgfSwKICAgIHByZWRpY3QoKXsKCiAgICB9LAogICAgZ2V0UG9zdHMoY2FyZGluZm8pIHsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgdXJsOiAnaHR0cHM6Ly9hcGkuc3BvdGlmeS5jb20vdjEvYXVkaW8tZmVhdHVyZXM/aWRzPScgKyBjYXJkaW5mby5pZCwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICBBdXRob3JpemF0aW9uOgogICAgICAgICAgICAnQmVhcmVyICcgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3BvdGlmeS1hY2Nlc3MtdG9rZW4nKSwKICAgICAgICB9LAogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmF1ZGlvX2ZlYXR1cmVzID0gcmVzcG9uc2UuZGF0YS5hdWRpb19mZWF0dXJlc1swXTsKICAgICAgfSk7CiAgICB9LAoKICAgIGNoYW5nZVNwb3RpZnlDYXJkKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnBsYXlTb25nKTsKICAgICAgdGhpcy5wbGF5U29uZyA9IGZhbHNlOwogICAgICBjb25zb2xlLmxvZyh0aGlzLnBsYXlTb25nKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["SpotifyCard.vue"],"names":[],"mappings":";AA8JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SpotifyCard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div v-if=\"playSong\" class=\"\">\n    <!--style=\"width:25%\"-->\n    <div\n      style=\"\n        width: 100%;\n        min-height: 25rem;\n        display: flex;\n        flex-direction: column;\n        justift-content: space-between;\n      \"\n    >\n      <div\n        style=\"\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        \"\n      >\n        <iframe\n          id=\"spotify-music\"\n          v-bind:src=\"this.newUrl\"\n          width=\"90%\"\n          height=\"80px\"\n          allow=\"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture\"\n          loading=\"lazy\"\n        ></iframe>\n        <div\n          style=\"\n            width: 10%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n          \"\n        >\n          <img\n            src=\"../assets/img/icons/close-icon.svg\"\n            @click=\"changeSpotifyCard()\"\n            style=\"cursor: pointer; width: 2rem\"\n            alt=\"\"\n          />\n        </div>\n      </div>\n\n      <div class=\"song-info-card\">\n        <div class=\"song-info-subcard\">\n          <table class=\"feature-table\" >\n            <tr >\n              <th >acousticness:</th>\n              <td>{{this.audio_features.acousticness}}</td>\n            </tr>\n            <tr>\n              <th>danceability:</th>\n              <td>{{this.audio_features.danceability}}</td>\n            </tr>\n            <tr>\n              <th>duration_ms:</th>\n              <td>{{this.audio_features.duration_ms}}</td>\n            </tr>\n            <tr>\n              <th>energy:</th>\n              <td>{{this.audio_features.energy}}</td>\n            </tr>\n            <tr>\n              <th>instrumentalness:</th>\n              <td>{{this.audio_features.instrumentalness}}</td>\n            </tr>\n            <tr>\n              <th>liveness:</th>\n              <td>{{this.audio_features.liveness}}</td>\n            </tr>\n            <tr>\n              <th>loudness:</th>\n              <td>{{this.audio_features.loudness}}</td>\n            </tr>\n            <tr>\n              <th>mode:</th>\n              <td>{{this.audio_features.mode}}</td>\n            </tr>\n            <tr>\n              <th>speechiness:</th>\n              <td>{{this.audio_features.speechiness}}</td>\n            </tr>\n            <tr>\n              <th>tempo:</th>\n              <td>{{this.audio_features.tempo}}</td>\n            </tr>\n            <tr>\n              <th>time_signature:</th>\n              <td>{{this.audio_features.time_signature}}</td>\n            </tr>\n            <tr>\n              <th>valence:</th>\n              <td>{{this.audio_features.valence}}</td>\n            </tr>\n            <tr>\n              <th>explicit:</th>\n              <td>{{this.album_features.explicit}}</td>\n            </tr>\n            <tr>\n              <th>valence:</th>\n              <td>{{this.audio_features.valence}}</td>\n            </tr>\n            <tr>\n              <th>release_date:</th>\n              <td>{{this.album_features.album.release_date.substring(0,4)}}</td>\n            </tr>\n          </table>\n        </div>\n        <div\n          style=\"width:100%; text-align-center; display:flex; flex-direction:column; align-items:center;\"\n        >\n        <br> <br>\n          <label for=\"actual-popularity\">Actual popularity</label> <br>\n          <div class=\"animated-progress progress-white\">\n            <span style=\"color:black\"> {{ this.actual_popularity }}%</span>\n          </div>\n          <br> <br>\n\n          <label for=\"predicted-popularity\">Predicted popularity</label> <br>\n          <div class=\"animated-progress progress-white\">\n            <span style=\"color:black\"> {{ this.actual_popularity }}%</span>\n          </div>\n\n          <br> <br>\n          \n          <div style=\"width: 70%; height: 30px; border-radius: 5px; ; display: flex; justify-content: space-between\">\n            <div style=\"width: 50%; \">\n              <input style=\"width: 100%; height: 100%\" type=\"number\" min=\"1920\" max=\"2022\" step=\"1\" value=\"2016\"  placeholder=\"year: yyyy\">\n            </div>\n            <div style=\"width: 30%; \">\n              <button @click=\"predict\" style=\"width: 100%; height: 100%\">Predict</button>\n            </div>\n          </div>\n       \n          \n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div v-else-if=\"!playSong\" class=\"spotify-card\"  @click=\"handleCardClick\">\n    <div class=\"spotify-card__picture\">\n      <img\n        style=\"border-radius: 10%; height: 100%\"\n        :src=\"imageURL\"\n        alt=\"placeholder\"\n      />\n    </div>\n\n    <div class=\"spotify-card__info\" style=\"padding:1rem\">\n      <span class=\"spotify-card__title\">{{ cardTitle }}</span>\n      <span class=\"spotify-card__subtitle\">{{ cardSubtitle }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport axios from 'axios';1\nexport default {\n  props: {\n    cardInfo: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      cardType: this.cardInfo.type,\n      cardTitle: this.cardInfo.name,\n      playSong: false,\n      newUrl: '',\n      actual_popularity: 0,\n      posts: [],\n      audio_features:{}, \n      album_features:{},\n    };\n  },\n  computed: {\n    imageURL() {\n      return (\n        (this.cardType === 'track'\n          ? this.cardInfo.album?.images[1]?.url\n          : this.cardInfo.images[1]?.url) ||\n        require('../assets/img/img-placeholder.jpg')\n      );\n    },\n    cardSubtitle() {\n      let subtitleText = '';\n      if (this.cardType == 'track') {\n        subtitleText = this.cardInfo.artists\n          .map((artist) => artist.name)\n          .join(', ');\n      }\n      return subtitleText;\n    },\n  },\n  methods: {\n    ...mapActions(['diplayToaster']),\n    handleCardClick() {\n      console.log('vard info', this.cardInfo);\n      this.actual_popularity = this.cardInfo.popularity;\n      if (this.cardInfo.type == 'track') {\n        const temp = this.cardInfo.external_urls.spotify.split('com/');\n        this.newUrl = temp[0] + 'com/embed/' + temp[1];\n        this.playSong = true;\n      }\n      \n      this.getPosts(this.cardInfo);\n      this.album_features = this.cardInfo;\n      //console.log(\"posts\", this.posts)\n      //console.log(\"token\", localStorage.getItem('spotify-access-token'))\n      //this.diplayToaster();\n    },\n    predict(){\n\n    },\n    getPosts(cardinfo) {\n      axios({\n        method: 'get',\n        url: 'https://api.spotify.com/v1/audio-features?ids=' + cardinfo.id,\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          Authorization:\n            'Bearer ' + localStorage.getItem('spotify-access-token'),\n        },\n      }).then(response => {\n        this.audio_features = response.data.audio_features[0];\n      });\n    },\n\n    changeSpotifyCard() {\n      console.log(this.playSong);\n      this.playSong = false;\n      console.log(this.playSong);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.spotify-card {\n  border: 1px dotted #000000;\n  cursor: pointer;\n  width: 100%;\n  height: 100px;\n\n  display: grid;\n  grid-template-columns: 100px auto;\n  border-radius: 0.9rem;\n\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: grey;\n    border-radius: 0.9rem;\n  }\n\n  &__picture {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n\n    img {\n      display: block;\n      height: 100%;\n      object-fit: cover;\n    }\n\n    &--round img {\n      clip-path: circle(40% at center);\n    }\n  }\n\n  &__info {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    padding: 10px 20px;\n    overflow: hidden;\n\n    span {\n      // display: inline-block;\n      width: calc(100%);\n      text-align: left;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n  }\n\n  &__title {\n    font-weight: bold;\n    font-size: 1.1rem;\n    margin-bottom: 0.3rem;\n  }\n\n  &__subtitle {\n    font-weight: 300;\n    font-style: italic;\n    font-size: 0.8rem;\n    color: $color-spotify-light-grey;\n  }\n}\n.feature-table{\n  width:100%; \n  height: 100%;\n  margin-top: 2rem;\n  th{\n    text-align: start;\n  }  \n  tr{\n    line-height: 24px;\n  }\n  td{\n    padding-left: 5px;\n  }\n}\n.song-info-card{\n  width: 100%; height: 100%; display:flex; align-items: center;\n  gap: 1.5rem;\n  margin-bottom: 3rem;\n\n}\n@media only screen and (min-width: map-get($breakpoints, 'lg')) {\n  \n   \n  }\n  @media only screen and (max-width: map-get($breakpoints, 'md')) {\n   \n    .song-info-card{\n    flex-direction: column;\n    }\n    iframe{\n      padding-right: 3rem;\n    }\n\n}\n   @media only screen and (max-width: map-get($breakpoints, 'sm')) {\n    .song-info-card{\n    flex-direction: column;\n    }\n  }\n  @media only screen and (min-width: 0px) {\n    .result-style{\n    width: 90%;\n   }\n  }\n  .animated-progress {\n  width: 70%;\n  height: 30px;\n  border-radius: 5px;\n  border: 1px solid rgb(189, 113, 113);\n  position: relative;\n}\n\n.animated-progress span {\n  height: 100%;\n  display: block;\n  width: 45%;\n  color: rgb(255, 251, 251);\n  line-height: 30px;\n  position: absolute;\n  text-align: end;\n  padding-right: 5px;\n}\n\n.progress-white span {\n  background-color: rgb(255, 251, 251);\n}\n\n</style>"]}]}