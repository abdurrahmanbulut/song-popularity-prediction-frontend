{"remainingRequest":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\src\\components\\SpotifyCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\src\\components\\SpotifyCard.vue","mtime":1669059743785},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\babel.config.js","mtime":1625581490000},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669050779836},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\babel-loader\\lib\\index.js","mtime":1669050788363},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669050779836},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\vue-loader\\lib\\index.js","mtime":1669050788117}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGNhcmRJbmZvOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXJkVHlwZTogdGhpcy5jYXJkSW5mby50eXBlLAogICAgICBjYXJkVGl0bGU6IHRoaXMuY2FyZEluZm8ubmFtZSwKICAgICAgcGxheVNvbmc6IGZhbHNlLAogICAgICBuZXdVcmw6ICIiLAogICAgICBhY3R1YWxfcG9wdWxhcml0eTogMCwKICAgICAgcG9zdHM6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGltYWdlVVJMKCkgewogICAgICB2YXIgX3RoaXMkY2FyZEluZm8kYWxidW0sIF90aGlzJGNhcmRJbmZvJGFsYnVtJCwgX3RoaXMkY2FyZEluZm8kaW1hZ2VzOwogICAgICByZXR1cm4gKHRoaXMuY2FyZFR5cGUgPT09ICd0cmFjaycgPyAoX3RoaXMkY2FyZEluZm8kYWxidW0gPSB0aGlzLmNhcmRJbmZvLmFsYnVtKSA9PT0gbnVsbCB8fCBfdGhpcyRjYXJkSW5mbyRhbGJ1bSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJGNhcmRJbmZvJGFsYnVtJCA9IF90aGlzJGNhcmRJbmZvJGFsYnVtLmltYWdlc1sxXSkgPT09IG51bGwgfHwgX3RoaXMkY2FyZEluZm8kYWxidW0kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjYXJkSW5mbyRhbGJ1bSQudXJsIDogKF90aGlzJGNhcmRJbmZvJGltYWdlcyA9IHRoaXMuY2FyZEluZm8uaW1hZ2VzWzFdKSA9PT0gbnVsbCB8fCBfdGhpcyRjYXJkSW5mbyRpbWFnZXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJGNhcmRJbmZvJGltYWdlcy51cmwpIHx8IHJlcXVpcmUoJy4uL2Fzc2V0cy9pbWcvaW1nLXBsYWNlaG9sZGVyLmpwZycpOwogICAgfSwKICAgIGNhcmRTdWJ0aXRsZSgpIHsKICAgICAgbGV0IHN1YnRpdGxlVGV4dCA9ICcnOwogICAgICBpZiAodGhpcy5jYXJkVHlwZSA9PSAndHJhY2snKSB7CiAgICAgICAgc3VidGl0bGVUZXh0ID0gdGhpcy5jYXJkSW5mby5hcnRpc3RzLm1hcChhcnRpc3QgPT4gYXJ0aXN0Lm5hbWUpLmpvaW4oJywgJyk7CiAgICAgIH0KICAgICAgcmV0dXJuIHN1YnRpdGxlVGV4dDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoWydkaXBsYXlUb2FzdGVyJ10pLAogICAgaGFuZGxlQ2FyZENsaWNrKCkgewogICAgICBjb25zb2xlLmxvZygidmFyZCBpbmZvIiwgdGhpcy5jYXJkSW5mbyk7CiAgICAgIHRoaXMuYWN0dWFsX3BvcHVsYXJpdHkgPSB0aGlzLmNhcmRJbmZvLnBvcHVsYXJpdHk7CiAgICAgIGlmICh0aGlzLmNhcmRJbmZvLnR5cGUgPT0gInRyYWNrIikgewogICAgICAgIGNvbnN0IHRlbXAgPSB0aGlzLmNhcmRJbmZvLmV4dGVybmFsX3VybHMuc3BvdGlmeS5zcGxpdCgiY29tLyIpOwogICAgICAgIHRoaXMubmV3VXJsID0gdGVtcFswXSArICJjb20vZW1iZWQvIiArIHRlbXBbMV07CiAgICAgICAgdGhpcy5wbGF5U29uZyA9IHRydWU7CiAgICAgIH0KICAgICAgdGhpcy5nZXRQb3N0cyh0aGlzLmNhcmRJbmZvKTsKICAgICAgLy9jb25zb2xlLmxvZygicG9zdHMiLCB0aGlzLnBvc3RzKQogICAgICAvL2NvbnNvbGUubG9nKCJ0b2tlbiIsIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzcG90aWZ5LWFjY2Vzcy10b2tlbicpKQogICAgICAvL3RoaXMuZGlwbGF5VG9hc3RlcigpOwogICAgfSwKCiAgICBnZXRQb3N0cyhjYXJkaW5mbykgewogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICB1cmw6ICJodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9hdWRpby1mZWF0dXJlcz9pZHM9IiArIGNhcmRpbmZvLmlkLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc3BvdGlmeS1hY2Nlc3MtdG9rZW4nKQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZygicmVzIiwgcmVzcG9uc2UpOwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VTcG90aWZ5Q2FyZCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5wbGF5U29uZyk7CiAgICAgIHRoaXMucGxheVNvbmcgPSBmYWxzZTsKICAgICAgY29uc29sZS5sb2codGhpcy5wbGF5U29uZyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"AA4BA;AACA;AACA;EACAA;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAEAC;MAAA;MACA,OACA,qDACA,kPACA,+GACAC;IAEA;IACAC;MACA;MACA;QAEAC,qCACAC,2BACAC;MACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACAC;MACA;MACA;QACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;IACA;;IACAC;MACAC;QACAC;QACAC;QACAC;UACA;UACA;UACA;QACA;MACA;QACAL;MACA;IACA;IAEAM;MACAN;MACA;MACAA;IAEA;EAEA;AACA","names":["props","cardInfo","type","required","data","cardType","cardTitle","playSong","newUrl","actual_popularity","posts","computed","imageURL","require","cardSubtitle","subtitleText","map","join","methods","handleCardClick","console","getPosts","axios","method","url","headers","changeSpotifyCard"],"sourceRoot":"src/components","sources":["SpotifyCard.vue"],"sourcesContent":["<template>\n  <div v-if=\"playSong\" class=\"\"  >\n    <div  style=\"width: 100%; height:6.3rem; display: flex; justift-content: space-between;\">\n      <iframe id=\"spotify-music\" v-bind:src=\"this.newUrl\"  width=\"60%\" allow=\"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture\" loading=\"lazy\"></iframe>\n      <div style=\"width:30%; height:75%; text-align-center; display:flex; flex-direction:column; justify-content: space-evenly\">\n        <span style=\"text-align:center\">Actual Popularity : {{this.actual_popularity}}%</span>\n        <span style=\"text-align:center\">Predicted Popularity : 75%</span>\n      </div>\n      <div style=\"width:10%; display:flex; justify-content: center; align-items:center;\"  ><img src=\"../assets/img/icons/close-icon.svg\" @click=\"changeSpotifyCard()\" style=\"cursor: pointer; margin-bottom:1.2rem; width:2rem\" alt=\"\"> </div>\n    </div>\n      \n    \n  </div>\n  \n  <div v-else-if=\"!playSong\" class=\"spotify-card\" @click=\"handleCardClick\" >\n    <div \n      class=\"spotify-card__picture\">\n      <img style=\"border-radius:10%; height:100%\" :src=\"imageURL\" alt=\"placeholder\" />\n    </div>\n    \n    <div  class=\"spotify-card__info\" > \n      <span class=\"spotify-card__title\">{{ cardTitle }}</span>\n      <span class=\"spotify-card__subtitle\">{{ cardSubtitle }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { mapActions } from 'vuex';\n  import axios from \"axios\";\n  export default {\n    props: {\n      cardInfo: {\n        type: Object,\n        required: true,\n      },\n    },\n    data() {\n      return {\n        cardType: this.cardInfo.type,\n        cardTitle: this.cardInfo.name,\n        playSong: false,\n        newUrl : \"\",\n        actual_popularity:0,\n        posts:[]\n      };\n    },\n    computed: {\n      \n      imageURL() {\n        return (\n          (this.cardType === 'track'\n            ? this.cardInfo.album?.images[1]?.url\n            : this.cardInfo.images[1]?.url) ||\n          require('../assets/img/img-placeholder.jpg')\n        );\n      },\n      cardSubtitle() {\n        let subtitleText = '';\n        if (this.cardType == 'track') {\n      \n          subtitleText = this.cardInfo.artists\n              .map((artist) => artist.name)\n              .join(', ');\n        }\n        return subtitleText;\n      },\n    },\n    methods: {\n      ...mapActions(['diplayToaster']),\n      handleCardClick() {\n        console.log(\"vard info\", this.cardInfo);\n        this.actual_popularity = this.cardInfo.popularity;\n        if(this.cardInfo.type == \"track\"){\n          const temp = this.cardInfo.external_urls.spotify.split(\"com/\");\n          this.newUrl = temp[0]  + \"com/embed/\" + temp[1];\n          this.playSong = true\n        }\n        this.getPosts(this.cardInfo);\n        //console.log(\"posts\", this.posts)\n        //console.log(\"token\", localStorage.getItem('spotify-access-token'))\n        //this.diplayToaster();\n      },\n      getPosts(cardinfo) {\n        axios({\n          method: 'get',\n          url: \"https://api.spotify.com/v1/audio-features?ids=\" + cardinfo.id,\n          headers:{\n            \"Accept\": \"application/json\", \n            \"Content-Type\": \"application/json\",\n             \"Authorization\": \"Bearer \" + localStorage.getItem('spotify-access-token'), \n          },\n        }).then(function(response){\n          console.log(\"res\", response)\n        })\n      },\n      \n        changeSpotifyCard(){\n          console.log(this.playSong);\n          this.playSong = false;\n          console.log(this.playSong);\n\n        }\n     \n    },\n  };\n</script>\n\n<style lang=\"scss\" scoped>\n  .spotify-card {\n    border: 1px dotted #000000;\n    cursor: pointer;\n    width: 100%;\n    height: 100px;\n\n    display: grid;\n    grid-template-columns: 100px auto;\n    border-radius: 0.9rem;\n\n    transition: background-color 0.3s ease;\n\n    &:hover {\n      background-color: grey;\n      border-radius: 0.9rem;\n    }\n\n    &__picture {\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n\n      img {\n        display: block;\n        height: 100%;\n        object-fit: cover;\n      }\n\n      &--round img {\n        clip-path: circle(40% at center);\n      }\n    }\n\n    &__info {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-start;\n      padding: 10px 20px;\n      overflow: hidden;\n\n      span {\n        // display: inline-block;\n        width: calc(100%);\n        text-align: left;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        line-height: 1.2;\n      }\n    }\n\n    &__title {\n      font-weight: bold;\n      font-size: 1.1rem;\n      margin-bottom: 0.3rem;\n    }\n\n    &__subtitle {\n      font-weight: 300;\n      font-style: italic;\n      font-size: 0.8rem;\n      color: $color-spotify-light-grey;\n    }\n  }\n</style>"]}]}