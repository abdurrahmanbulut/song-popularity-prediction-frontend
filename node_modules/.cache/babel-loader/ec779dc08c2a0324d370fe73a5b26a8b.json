{"remainingRequest":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\src\\components\\SpotifyCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\src\\components\\SpotifyCard.vue","mtime":1669751314519},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\babel.config.js","mtime":1625581490000},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669050779836},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1669050779837},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\babel-loader\\lib\\index.js","mtime":1669050788363},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1669050779836},{"path":"C:\\Users\\abdur\\OneDrive\\Masaüstü\\Bitirme\\song-popularity-prediction\\node_modules\\vue-loader\\lib\\index.js","mtime":1669050788117}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoxOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGNhcmRJbmZvOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjYXJkVHlwZTogdGhpcy5jYXJkSW5mby50eXBlLAogICAgICBjYXJkVGl0bGU6IHRoaXMuY2FyZEluZm8ubmFtZSwKICAgICAgcGxheVNvbmc6IGZhbHNlLAogICAgICBuZXdVcmw6ICcnLAogICAgICBhY3R1YWxfcG9wdWxhcml0eTogMCwKICAgICAgcG9zdHM6IFtdLAogICAgICBhdWRpb19mZWF0dXJlczoge30sCiAgICAgIGFsYnVtX2ZlYXR1cmVzOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpbWFnZVVSTCgpIHsKICAgICAgdmFyIF90aGlzJGNhcmRJbmZvJGFsYnVtLCBfdGhpcyRjYXJkSW5mbyRhbGJ1bSQsIF90aGlzJGNhcmRJbmZvJGltYWdlczsKICAgICAgcmV0dXJuICh0aGlzLmNhcmRUeXBlID09PSAndHJhY2snID8gKF90aGlzJGNhcmRJbmZvJGFsYnVtID0gdGhpcy5jYXJkSW5mby5hbGJ1bSkgPT09IG51bGwgfHwgX3RoaXMkY2FyZEluZm8kYWxidW0gPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyRjYXJkSW5mbyRhbGJ1bSQgPSBfdGhpcyRjYXJkSW5mbyRhbGJ1bS5pbWFnZXNbMV0pID09PSBudWxsIHx8IF90aGlzJGNhcmRJbmZvJGFsYnVtJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2FyZEluZm8kYWxidW0kLnVybCA6IChfdGhpcyRjYXJkSW5mbyRpbWFnZXMgPSB0aGlzLmNhcmRJbmZvLmltYWdlc1sxXSkgPT09IG51bGwgfHwgX3RoaXMkY2FyZEluZm8kaW1hZ2VzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjYXJkSW5mbyRpbWFnZXMudXJsKSB8fCByZXF1aXJlKCcuLi9hc3NldHMvaW1nL2ltZy1wbGFjZWhvbGRlci5qcGcnKTsKICAgIH0sCiAgICBjYXJkU3VidGl0bGUoKSB7CiAgICAgIGxldCBzdWJ0aXRsZVRleHQgPSAnJzsKICAgICAgaWYgKHRoaXMuY2FyZFR5cGUgPT0gJ3RyYWNrJykgewogICAgICAgIHN1YnRpdGxlVGV4dCA9IHRoaXMuY2FyZEluZm8uYXJ0aXN0cy5tYXAoYXJ0aXN0ID0+IGFydGlzdC5uYW1lKS5qb2luKCcsICcpOwogICAgICB9CiAgICAgIHJldHVybiBzdWJ0aXRsZVRleHQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsnZGlwbGF5VG9hc3RlciddKSwKICAgIGhhbmRsZUNhcmRDbGljaygpIHsKICAgICAgY29uc29sZS5sb2coJ3ZhcmQgaW5mbycsIHRoaXMuY2FyZEluZm8pOwogICAgICB0aGlzLmFjdHVhbF9wb3B1bGFyaXR5ID0gdGhpcy5jYXJkSW5mby5wb3B1bGFyaXR5OwogICAgICBpZiAodGhpcy5jYXJkSW5mby50eXBlID09ICd0cmFjaycpIHsKICAgICAgICBjb25zdCB0ZW1wID0gdGhpcy5jYXJkSW5mby5leHRlcm5hbF91cmxzLnNwb3RpZnkuc3BsaXQoJ2NvbS8nKTsKICAgICAgICB0aGlzLm5ld1VybCA9IHRlbXBbMF0gKyAnY29tL2VtYmVkLycgKyB0ZW1wWzFdOwogICAgICAgIHRoaXMucGxheVNvbmcgPSB0cnVlOwogICAgICB9CiAgICAgIHRoaXMuZ2V0UG9zdHModGhpcy5jYXJkSW5mbyk7CiAgICAgIHRoaXMuYWxidW1fZmVhdHVyZXMgPSB0aGlzLmNhcmRJbmZvOwogICAgICAvL2NvbnNvbGUubG9nKCJwb3N0cyIsIHRoaXMucG9zdHMpCiAgICAgIC8vY29uc29sZS5sb2coInRva2VuIiwgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nwb3RpZnktYWNjZXNzLXRva2VuJykpCiAgICAgIC8vdGhpcy5kaXBsYXlUb2FzdGVyKCk7CiAgICB9LAoKICAgIHByZWRpY3QoKSB7fSwKICAgIGdldFBvc3RzKGNhcmRpbmZvKSB7CiAgICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIHVybDogJ2h0dHBzOi8vYXBpLnNwb3RpZnkuY29tL3YxL2F1ZGlvLWZlYXR1cmVzP2lkcz0nICsgY2FyZGluZm8uaWQsCiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAgICAgQXV0aG9yaXphdGlvbjogJ0JlYXJlciAnICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nwb3RpZnktYWNjZXNzLXRva2VuJykKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuYXVkaW9fZmVhdHVyZXMgPSByZXNwb25zZS5kYXRhLmF1ZGlvX2ZlYXR1cmVzWzBdOwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VTcG90aWZ5Q2FyZCgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5wbGF5U29uZyk7CiAgICAgIHRoaXMucGxheVNvbmcgPSBmYWxzZTsKICAgICAgY29uc29sZS5sb2codGhpcy5wbGF5U29uZyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":"AA8JA;AACA;AAAA;AACA;EACAA;IACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA,OACA,qDACA,kPACA,+GACAC;IAEA;IACAC;MACA;MACA;QACAC,qCACAC,2BACAC;MACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACAC;MACA;MACA;QACA;QACA;QACA;MACA;MAEA;MACA;MACA;MACA;MACA;IACA;;IACAC,WAEA;IACAC;MACAC;QACAC;QACAC;QACAC;UACAC;UACA;UACAC,eACA;QACA;MACA;QACA;MACA;IACA;IAEAC;MACAT;MACA;MACAA;IACA;EACA;AACA","names":["props","cardInfo","type","required","data","cardType","cardTitle","playSong","newUrl","actual_popularity","posts","audio_features","album_features","computed","imageURL","require","cardSubtitle","subtitleText","map","join","methods","handleCardClick","console","predict","getPosts","axios","method","url","headers","Accept","Authorization","changeSpotifyCard"],"sourceRoot":"src/components","sources":["SpotifyCard.vue"],"sourcesContent":["<template>\n  <div v-if=\"playSong\" class=\"\">\n    <!--style=\"width:25%\"-->\n    <div\n      style=\"\n        width: 100%;\n        min-height: 25rem;\n        display: flex;\n        flex-direction: column;\n        justift-content: space-between;\n      \"\n    >\n      <div\n        style=\"\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        \"\n      >\n        <iframe\n          id=\"spotify-music\"\n          v-bind:src=\"this.newUrl\"\n          width=\"90%\"\n          height=\"80px\"\n          allow=\"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture\"\n          loading=\"lazy\"\n        ></iframe>\n        <div\n          style=\"\n            width: 10%;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n          \"\n        >\n          <img\n            src=\"../assets/img/icons/close-icon.svg\"\n            @click=\"changeSpotifyCard()\"\n            style=\"cursor: pointer; width: 2rem\"\n            alt=\"\"\n          />\n        </div>\n      </div>\n\n      <div class=\"song-info-card\">\n        <div class=\"song-info-subcard\">\n          <table class=\"feature-table\" >\n            <tr >\n              <th >acousticness:</th>\n              <td>{{this.audio_features.acousticness}}</td>\n            </tr>\n            <tr>\n              <th>danceability:</th>\n              <td>{{this.audio_features.danceability}}</td>\n            </tr>\n            <tr>\n              <th>duration_ms:</th>\n              <td>{{this.audio_features.duration_ms}}</td>\n            </tr>\n            <tr>\n              <th>energy:</th>\n              <td>{{this.audio_features.energy}}</td>\n            </tr>\n            <tr>\n              <th>instrumentalness:</th>\n              <td>{{this.audio_features.instrumentalness}}</td>\n            </tr>\n            <tr>\n              <th>liveness:</th>\n              <td>{{this.audio_features.liveness}}</td>\n            </tr>\n            <tr>\n              <th>loudness:</th>\n              <td>{{this.audio_features.loudness}}</td>\n            </tr>\n            <tr>\n              <th>mode:</th>\n              <td>{{this.audio_features.mode}}</td>\n            </tr>\n            <tr>\n              <th>speechiness:</th>\n              <td>{{this.audio_features.speechiness}}</td>\n            </tr>\n            <tr>\n              <th>tempo:</th>\n              <td>{{this.audio_features.tempo}}</td>\n            </tr>\n            <tr>\n              <th>time_signature:</th>\n              <td>{{this.audio_features.time_signature}}</td>\n            </tr>\n            <tr>\n              <th>valence:</th>\n              <td>{{this.audio_features.valence}}</td>\n            </tr>\n            <tr>\n              <th>explicit:</th>\n              <td>{{this.album_features.explicit}}</td>\n            </tr>\n            <tr>\n              <th>valence:</th>\n              <td>{{this.audio_features.valence}}</td>\n            </tr>\n            <tr>\n              <th>release_date:</th>\n              <td>{{this.album_features.album.release_date.substring(0,4)}}</td>\n            </tr>\n          </table>\n        </div>\n        <div\n          style=\"width:100%; text-align-center; display:flex; flex-direction:column; align-items:center;\"\n        >\n        <br> <br>\n          <label for=\"actual-popularity\">Actual popularity</label> <br>\n          <div class=\"animated-progress progress-white\">\n            <span style=\"color:black\"> {{ this.actual_popularity }}%</span>\n          </div>\n          <br> <br>\n\n          <label for=\"predicted-popularity\">Predicted popularity</label> <br>\n          <div class=\"animated-progress progress-white\">\n            <span style=\"color:black\"> {{ this.actual_popularity }}%</span>\n          </div>\n\n          <br> <br>\n          \n          <div style=\"width: 70%; height: 30px; border-radius: 5px; ; display: flex; justify-content: space-between\">\n            <div style=\"width: 50%; \">\n              <input style=\"width: 100%; height: 100%\" type=\"number\" min=\"1920\" max=\"2022\" step=\"1\" value=\"2016\"  placeholder=\"year: yyyy\">\n            </div>\n            <div style=\"width: 30%; \">\n              <button @click=\"predict\" style=\"width: 100%; height: 100%\">Predict</button>\n            </div>\n          </div>\n       \n          \n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div v-else-if=\"!playSong\" class=\"spotify-card\"  @click=\"handleCardClick\">\n    <div class=\"spotify-card__picture\">\n      <img\n        style=\"border-radius: 10%; height: 100%\"\n        :src=\"imageURL\"\n        alt=\"placeholder\"\n      />\n    </div>\n\n    <div class=\"spotify-card__info\" style=\"padding:1rem\">\n      <span class=\"spotify-card__title\">{{ cardTitle }}</span>\n      <span class=\"spotify-card__subtitle\">{{ cardSubtitle }}</span>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport axios from 'axios';1\nexport default {\n  props: {\n    cardInfo: {\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      cardType: this.cardInfo.type,\n      cardTitle: this.cardInfo.name,\n      playSong: false,\n      newUrl: '',\n      actual_popularity: 0,\n      posts: [],\n      audio_features:{}, \n      album_features:{},\n    };\n  },\n  computed: {\n    imageURL() {\n      return (\n        (this.cardType === 'track'\n          ? this.cardInfo.album?.images[1]?.url\n          : this.cardInfo.images[1]?.url) ||\n        require('../assets/img/img-placeholder.jpg')\n      );\n    },\n    cardSubtitle() {\n      let subtitleText = '';\n      if (this.cardType == 'track') {\n        subtitleText = this.cardInfo.artists\n          .map((artist) => artist.name)\n          .join(', ');\n      }\n      return subtitleText;\n    },\n  },\n  methods: {\n    ...mapActions(['diplayToaster']),\n    handleCardClick() {\n      console.log('vard info', this.cardInfo);\n      this.actual_popularity = this.cardInfo.popularity;\n      if (this.cardInfo.type == 'track') {\n        const temp = this.cardInfo.external_urls.spotify.split('com/');\n        this.newUrl = temp[0] + 'com/embed/' + temp[1];\n        this.playSong = true;\n      }\n      \n      this.getPosts(this.cardInfo);\n      this.album_features = this.cardInfo;\n      //console.log(\"posts\", this.posts)\n      //console.log(\"token\", localStorage.getItem('spotify-access-token'))\n      //this.diplayToaster();\n    },\n    predict(){\n\n    },\n    getPosts(cardinfo) {\n      axios({\n        method: 'get',\n        url: 'https://api.spotify.com/v1/audio-features?ids=' + cardinfo.id,\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          Authorization:\n            'Bearer ' + localStorage.getItem('spotify-access-token'),\n        },\n      }).then(response => {\n        this.audio_features = response.data.audio_features[0];\n      });\n    },\n\n    changeSpotifyCard() {\n      console.log(this.playSong);\n      this.playSong = false;\n      console.log(this.playSong);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.spotify-card {\n  border: 1px dotted #000000;\n  cursor: pointer;\n  width: 100%;\n  height: 100px;\n\n  display: grid;\n  grid-template-columns: 100px auto;\n  border-radius: 0.9rem;\n\n  transition: background-color 0.3s ease;\n\n  &:hover {\n    background-color: grey;\n    border-radius: 0.9rem;\n  }\n\n  &__picture {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n\n    img {\n      display: block;\n      height: 100%;\n      object-fit: cover;\n    }\n\n    &--round img {\n      clip-path: circle(40% at center);\n    }\n  }\n\n  &__info {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n    padding: 10px 20px;\n    overflow: hidden;\n\n    span {\n      // display: inline-block;\n      width: calc(100%);\n      text-align: left;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n  }\n\n  &__title {\n    font-weight: bold;\n    font-size: 1.1rem;\n    margin-bottom: 0.3rem;\n  }\n\n  &__subtitle {\n    font-weight: 300;\n    font-style: italic;\n    font-size: 0.8rem;\n    color: $color-spotify-light-grey;\n  }\n}\n.feature-table{\n  width:100%; \n  height: 100%;\n  margin-top: 2rem;\n  th{\n    text-align: start;\n  }  \n  tr{\n    line-height: 24px;\n  }\n  td{\n    padding-left: 5px;\n  }\n}\n.song-info-card{\n  width: 100%; height: 100%; display:flex; align-items: center;\n  gap: 1.5rem;\n  margin-bottom: 3rem;\n\n}\n@media only screen and (min-width: map-get($breakpoints, 'lg')) {\n  \n   \n  }\n  @media only screen and (max-width: map-get($breakpoints, 'md')) {\n   \n    .song-info-card{\n    flex-direction: column;\n    }\n    iframe{\n      padding-right: 3rem;\n    }\n\n}\n   @media only screen and (max-width: map-get($breakpoints, 'sm')) {\n    .song-info-card{\n    flex-direction: column;\n    }\n  }\n  @media only screen and (min-width: 0px) {\n    .result-style{\n    width: 90%;\n   }\n  }\n  .animated-progress {\n  width: 70%;\n  height: 30px;\n  border-radius: 5px;\n  border: 1px solid rgb(189, 113, 113);\n  position: relative;\n}\n\n.animated-progress span {\n  height: 100%;\n  display: block;\n  width: 45%;\n  color: rgb(255, 251, 251);\n  line-height: 30px;\n  position: absolute;\n  text-align: end;\n  padding-right: 5px;\n}\n\n.progress-white span {\n  background-color: rgb(255, 251, 251);\n}\n\n</style>"]}]}